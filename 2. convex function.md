# 2. Convex Function
In this section, we introduce four definations concerning the convex function

关于凸函数，最重要的是四个定义，需要熟记。

## 2.1 Defination_1

if **dom** $f$ is a convex set, and $0 \leq \theta \leq 1$, all $x,y\in \text{dom} f$:
$$f(\theta x+(1- \theta)y) \leq \theta f(x)+(1- \theta)f(y).$$

则函数$f$是凸函数(convex function)

如果把定义增强，则是严格凸(strictly convex)。if $0<\theta<1$ and $x \neq y$, and $f(\theta x+(1- \theta)y) < \theta f(x)+(1- \theta)f(y).$

>Note: 如果$-f$是凸函数，则$f$是凹函数（上述不等号取反方向）

凸函数示意图：

![凸函数示意图](./pictures/note_2/tmp8744.png)

## 2.2 Defination_2

Extended-value extension（凸函数的扩展）拓展之后仍然是凸函数。

$\tilde{f}(x): R^{n} \rightarrow R\ \cup\  \left\{ \infty \right\}$

$$\tilde{f}(x)= \left\{ \begin{matrix} f(x)\quad x \in domf \\ \infty \quad x \notin domf. \\ \end{matrix} \right.$$

例：示性函数(Indicator function $\tilde{I}_{C}(x)$)是凸函数

$$\tilde{I}_{C}(x)= \left\{ \begin{matrix} 0 \quad x \in C \\ \infty \quad x \notin C. \\ \end{matrix} \right.$$

>Note: 如下函数不是凸函数。

$$J_{c} = \left\{ \begin{matrix} 1 \quad x \notin C \\ 0 \quad x \in C. \\ \end{matrix} \right.$$

## 2.3 Defination_3 (first-order conditions)

设$f:R^n\rightarrow R$可微，则函数$f$为凸 等价于：$dom f$ is convex and 

$$f(y)\geq f(x)+ \nabla f(x)^{T}(y-x)$$

如下图所示：

![](./pictures/note_2/tmp3D9C.png)

证明思路及注意事项：1）利用定义1。2）考虑一维情况，然后再考虑$n$维。3）因为是充要条件，所以正反两边都要证明。

## 2.4 Defination_4 (second-order conditions)

若函数$f$二阶可微，则函数$f$是凸函数 等价于：

$$ \nabla ^{2}f(x)\geq 0,$$

for all $x \in \text{dom}\ f$. 若海森矩阵大于0，则是严格凸(strictly convex)。

>note: 若定义域不是凸集，则该函数一定不是凸函数。

## 2.5 常见凸函数

### 1）二次函数

$$f(x) = \frac{1}{2} X^{T}PX + q^{T}X + R$$

### 2）幂函数 

$$f = e^{ax}, a\in R$$

### 3） 绝对值的幂函数

$$|x|^{p},\text{for}\ p \geq 1$$ 

### 4）对数函数

$$\text{log}\ x,\ x \in R_{++} $$

### 5）负熵（严格凸）

$$x\ \text{log}\ x,\ x \in R_{++}$$

### 6）范数

注意：零范数是非零元素的总和。零范数不是范数也不是凸函数。

### 7）极大值函数

$$f(x)=\text{max}\{x_1, x_2,\dots,x_n\}$$ 

### 8）Log-sum-up函数

$$f(x)=\text{log}(e^{x_1}+e^{x_2} + \dots + e^{x_n})$$

对于Log-sum-up函数，有如下性质：

$$ \max \left\{ x_{1}, \ldots ,x_{n}\right\} \leq f(x)\leq \max \left\{ x_{1}, \ldots ,x_{n}\right\} + \log n$$

### 9）Log-det 函数是凹函数(dom $f=S^{n}_{++}$)，X是矩阵

$$f(X)= \log detX$$

## 2.6 凸函数的保凸变换

### 1）非负加权和

函数$f_1,f_2,...,f_m$均为凸函数，则当$w_1,w_2,...,w_n \geq 0$时，如下函数也为凸

$$f=w_{1}f_{1}+ \cdots +w_{m}f_{m},$$

扩展：如果$f(x,y)$对于任意的$y\in A$是凸函数，且$w(y)\geq 0\ \text{for} \text{each}A$, 则如下函数也为凸函数：

$$g(x)= \int _{A}w(y)f(x,y)dy$$

### 2）仿射变换

$f:R^{n}\rightarrow R$, $A \in R^{n\times m}$, $b \in R^{n}$, 如果$f$函数是凸，则$g$函数也凸，如果$f$是凹，则$g$也是凹：

$$g(x)=f(Ax+b)$$

### 3）极大值函数

$$f(x)= \max \left\{ f_{1}(x),f_{2}(x)\right\} ,$$

where $domf=domf_{1}\cap domf_{2},$

### 4）向量中前$r$个最大元素和

$$f(x)= \sum _{i=1}^{r}x_{[i]}= \max \left\{ x_{i_{1}}+ \cdots +x_{i_{r}}|1 \leq i_{1}<i_{2}< \cdots <i_{r}\leq n \right\} ,$$

### 5）无限个凸函数的极大值

$$g(x)=\text{sup}\ f(x,y)$$

for each $y\in A$. 函数$g$是凸函数，定义域如下：

$$\text{dom}\ g= \left\{ x|(x,y)\in \text{dom}f\ \text{for all} y \in A,supf(x,y)< \infty \right\}.$$

### 6）函数组合 (Composition)

$h:R^{k} \rightarrow R$ and $g:R^{n} \rightarrow R^{k}$, $f = h\ \circ g: R^{n} \rightarrow R$, defined by

$$f(x)=h(g(x)), \quad \text{dom}\ f= \left\{ x \in \text{dom}\ g\ |\ g(x)\in \text{dom}\ h\ \right\} .$$

考虑$n=k=1$的情况，函数$f$的二阶导为

$$f^{\prime \prime}(x)=h^{\prime \prime}(g(x))g^{\prime}(x)^{2}+h^{\prime}(g(x))g^{\prime \prime}(x).$$

根据上式可以分析得出如下四条姐论：

+ 如果$h$凸（二阶导$\geq 0$），且不降（一阶导$\geq 0$），$g$为凸，则$f$是凸函数
+ 如果$h$凸（二阶导$\geq 0$），且不增（一阶导$\leq 0$），$g$为凹，则$f$是凸函数
+ 如果$h$凹（二阶导$\leq 0$），且不降（一阶导$\geq 0$），$g$为凹，则$f$是凹函数
+ 如果$h$凹（二阶导$\leq 0$），且不增（一阶导$\leq 0$），$g$为凸，则$f$是凹函数

### 7）函数的透视

## 2.7 the conjugate of the function (函数的共轭)

### 1）Fenchel's inequality (or Young's inequality)

## 2.8 Quasiconvex functions (拟凸函数)

### 1) $\alpha$-sublevel set

### 2) defination

### 3) basic properties （性质）

### 4) first-order conditions

### 5) second-order conditions